<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista de Mutantes</title>
    <style>
        /* Tus estilos aquí */
    </style>
</head>
<body>

<div class="container">
    <h1>Lista de Mutantes</h1>

    <div class="filters">
        <!-- Filtros aquí -->
    </div>

    <table id="mutantTable">
        <thead>
            <tr>
                <th><img src="https://mgg.autos/images/misc/Icon.png" alt="Icono" class="icon-image"></th>
                <th>Nombre</th>
                <th>Categoría</th>
                <th><img src="https://mgg.autos/images/misc/gen.png" alt="Gen 1" class="icon-image"></th>
                <th><img src="https://mgg.autos/images/misc/gen.png" alt="Gen 2" class="icon-image"></th>
                <th>Habilidad</th>
                <th><img src="https://mgg.autos/images/misc/porc.png" alt="Habilidad%" class="icon-image"></th>
                <th><img src="https://mgg.autos/images/misc/atk2.png" alt="Ataque 1" class="icon-image"></th>
                <th><img src="https://mgg.autos/images/misc/atk2.png" alt="Ataque 2" class="icon-image"></th>
                <th><img src="https://mgg.autos/images/misc/Speed.png" alt="Velocidad" class="icon-image"></th>
                <th><img src="https://mgg.autos/images/misc/HP.png" alt="Vida" class="icon-image"></th>
                <th>Hibridable</th>
                <th><img src="https://mgg.autos/images/misc/Bingo.png" alt="Bingo" class="icon-image"></th>
            </tr>
        </thead>
        <tbody>
            <!-- Los mutantes se añadirán aquí -->
        </tbody>
    </table>
</div>

<script>
    async function loadMutants() {
        try {
            // Obtener el CSV
            const response = await fetch('https://docs.google.com/spreadsheets/d/e/2PACX-1vR4xNhg6do8449knaRSqydYGfMSUz_aoB1YzLcDOHmoHsGSyoGBTOj2zmS4QVKXUhTUTWKwUdIEdRVv/pub?gid=0&single=true&output=csv');
            const csvText = await response.text();

            // Convertir CSV a JSON
            const data = csvToJson(csvText);

            // Agregar mutantes a la tabla
            data.forEach(mutant => addMutantToTable(mutant));
        } catch (error) {
            console.error('Error loading mutants:', error);
        }
    }

    function csvToJson(csvText) {
        const lines = csvText.split('\n');
        const headers = lines[0].split(',');
        return lines.slice(1).map(line => {
            const values = line.split(',');
            const result = {};
            headers.forEach((header, index) => {
                result[header.trim()] = values[index] ? values[index].trim() : '';
            });
            return result;
        });
    }

    function addMutantToTable(mutant) {
        const tableBody = document.getElementById('mutantTable').getElementsByTagName('tbody')[0];
        const newRow = tableBody.insertRow();
        newRow.innerHTML = `
            <td><img src="${mutant.Icono}" alt="Icono del mutante ${mutant.Nombre}" class="icon-image"></td>
            <td>${mutant.Nombre}</td>
            <td>${mutant.Categoría}</td>
            <td>
                <img src="https://mgg.autos/images/genes/${mutant['Gen 1']}.png" alt="Gen ${mutant['Gen 1']}" class="gene-image">
            </td>
            <td>
                <img src="https://mgg.autos/images/genes/${mutant['Gen 2']}.png" alt="Gen ${mutant['Gen 2']}" class="gene-image">
            </td>
            <td>${mutant.Habilidad}</td>
            <td>${mutant['Habilidad%']}</td>
            <td>${mutant['Ataque 1']}</td>
            <td>${mutant['Ataque 2']}</td>
            <td>${mutant.Velocidad}</td>
            <td>${mutant.Vida}</td>
            <td>${mutant.Hibridable}</td>
            <td>${mutant.Bingo}</td>
        `;
    }

    document.addEventListener('DOMContentLoaded', loadMutants);
</script>

</body>
</html>
